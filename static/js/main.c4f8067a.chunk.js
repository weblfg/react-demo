(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{180:function(e,t,n){},272:function(e,t,n){},273:function(e,t,n){"use strict";n.r(t);var a=n(97),c=n(0),r=n.n(c),s=n(27),i=n.n(s),o=n(104),j=n(24),d=n(163),l=(n(179),n(180),n(166)),u=n(69),h=n(70),b=n(84),p=n(81),m=n(155);var O=Object(m.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{id:1,name:"\u5f20\u4e09",age:22},{id:2,name:"\u5c0f\u660e",age:33}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"add":return e.push(t.result),e;case"del":return e.forEach((function(n,a){n.name===t.result.name&&e.splice(a,1)})),e;default:return e}})),x=n(52),f=n(167),g=n(278),y=n(277),v=n(7),k=(O.getState(),[{title:"\u5e8f\u53f7",key:"id",dataIndex:"id",render:function(e,t,n){return n+1}},{id:1,title:"\u59d3\u540d",dataIndex:"name",key:"name"},{id:2,title:"\u5e74\u9f84",dataIndex:"age",key:"age"},{title:"\u64cd\u4f5c",render:function(e,t,n){return Object(v.jsxs)("div",{children:[Object(v.jsx)(x.a,{size:"small",onClick:function(){return function(e){return O.dispatch({type:"del",result:e}),f.b.success("\u5220\u9664\u6210\u529f")}(t)},danger:!0,children:"\u5220\u9664"}),Object(v.jsx)(x.a,{style:{margin:"0 1rem"},size:"small",type:"primary",ghost:!0,children:" \u4fee\u6539"})]})}}]);var w=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).data=O.getState(),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.subscribe((function(){e.forceUpdate()}))}},{key:"render",value:function(){var e=this;return Object(v.jsx)(g.a,{title:"\u5546\u54c1\u5217\u8868",extra:Object(v.jsx)(x.a,{type:"primary",onClick:function(){return e.props.history.push("/admin/products/Edit/1")},children:"\u65b0\u589e"}),children:Object(v.jsx)(y.a,{dataSource:Object(l.a)(this.data),columns:k,rowKey:function(e){return e.name}})})}}]),n}(c.Component);var I=function(){return Object(v.jsx)("div",{children:"\u770b\u677f\u9875\u9762"})},S=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:"404\u9875\u9762"})}}]),n}(c.Component),F=n(131),N=n.n(F),C=n(162),L=n(279),E=n(280),T=n(89),q=n.n(T);q.a.create({timeout:3e3,baseURL:"http://localhost:3000"}),q.a.interceptors.request.use((function(e){var t=sessionStorage.getItem("token");return t&&(e.headers.Authorization=t),e}),(function(e){return e}));var z=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"getToken",value:function(){var e=Object(C.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n="1.json",q.a.get(n);case 2:200===(t=e.sent).status&&(sessionStorage.setItem("token",t.data.token),this.props.history.push("/admin/products/1"));case 4:case"end":return e.stop()}var n}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(v.jsx)(r.a.Fragment,{children:Object(v.jsx)("div",{className:"LoginPage",children:Object(v.jsxs)(L.a,{className:"LoginForm",onFinish:function(t){console.log("Success:",t),t.username&&t.passwd&&("\u5f20\u4e09"===t.username&&123==t.passwd?e.getToken():f.b.error("\u7528\u6237\u540d\u6216\u8005\u5bc6\u7801\u9519\u8bef"))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(v.jsx)("div",{className:"loginIn",children:"\u767b\u5f55"}),Object(v.jsxs)("div",{children:[Object(v.jsx)(L.a.Item,{label:"\u59d3\u540d",name:"username",children:Object(v.jsx)(E.a,{placeholder:"\u5f20\u4e09"})}),Object(v.jsx)(L.a.Item,{label:"\u5bc6\u7801",name:"passwd",children:Object(v.jsx)(E.a,{placeholder:"123"})})]}),Object(v.jsx)(L.a.Item,{children:Object(v.jsx)(x.a,{htmlType:"submit",type:"primary",children:"Login"})})]})})})}}]),n}(c.Component),K=n(88),R=n(47),A=function(e){O.dispatch({type:"add",result:e}),f.b.success("\u4fdd\u5b58\u6210\u529f")},H=function(e){console.log("Failed:",e)};var J=function(){return Object(v.jsx)(g.a,{title:"\u5546\u54c1\u7f16\u8f91",children:Object(v.jsxs)(L.a,{onFinish:A,onFinishFailed:H,children:[Object(v.jsxs)(K.a,{justify:"space-between",children:[Object(v.jsx)(R.a,{span:11,children:Object(v.jsx)(L.a.Item,{label:"\u59d3\u540d",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}],children:Object(v.jsx)(E.a,{placeholder:"\u8f93\u5165\u59d3\u540d"})})}),Object(v.jsx)(R.a,{span:12,children:Object(v.jsx)(L.a.Item,{label:"\u5e74\u9f84",name:"age",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],children:Object(v.jsx)(E.a,{placeholder:"\u8f93\u5165\u5bc6\u7801"})})})]}),Object(v.jsx)(L.a.Item,{children:Object(v.jsx)(K.a,{justify:"center",children:Object(v.jsx)(R.a,{span:8,children:Object(v.jsx)(x.a,{type:"primary",htmlType:"submit",style:{width:"100%"},children:"\u4fdd\u5b58"})})})})]})})},U=n(281),B=n(282),D=[{path:"/Login",component:z},{path:"/404",component:S}],M=[{path:"/admin/dashboard",component:I,isShow:!0,title:"\u770b\u677f",icon:Object(v.jsx)(U.a,{})},{path:"/admin/products",component:w,exact:!0,isShow:!0,title:"\u5546\u54c1\u7ba1\u7406",icon:Object(v.jsx)(B.a,{})},{path:"/admin/products/Edit/:id",component:J,exact:!0,isShow:!1}],P=n(276),G=n(66),Q=P.a.Header,V=P.a.Content,W=P.a.Sider,X=M.filter((function(e){return e.isShow}));var Y=Object(j.g)((function(e){return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(P.a,{className:"layout",children:[Object(v.jsxs)(Q,{className:"header",children:[Object(v.jsx)("div",{className:"logo"}),Object(v.jsx)("div",{className:"title",children:"React demo"})]}),Object(v.jsxs)(P.a,{children:[Object(v.jsx)(W,{width:200,className:"site-layout-background",children:Object(v.jsx)(G.a,{mode:"inline",defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],style:{height:"100%",borderRight:0},children:X.map((function(t){return Object(v.jsxs)(G.a.Item,{onClick:function(t){return e.history.push(t.key)},children:[Object(v.jsx)("i",{children:t.icon}),t.title]},t.path)}))})}),Object(v.jsx)(P.a,{style:{padding:"0 24px 24px"},children:Object(v.jsx)(V,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:e.children})})]})]})})}));n(272);var Z=function(){return sessionStorage.getItem("token")?Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(Y,{children:Object(v.jsxs)(j.d,{children:[M.map((function(e){return Object(v.jsx)(j.b,{exact:e.exact,path:e.path,render:function(t){return Object(v.jsx)(e.component,Object(a.a)({},t))}},e.path)})),Object(v.jsx)(j.a,{to:M[1].path,from:"/admin"}),Object(v.jsx)(j.a,{to:"/404"})]})})}):Object(v.jsx)(j.a,{to:"/login"})};i.a.render(Object(v.jsx)(d.a,{store:O,children:Object(v.jsx)(o.a,{children:Object(v.jsxs)(j.d,{children:[Object(v.jsx)(j.b,{path:"/admin",render:function(e){return Object(v.jsx)(Z,Object(a.a)({},e))}}),D.map((function(e){return Object(v.jsx)(j.b,Object(a.a)({},e),e.path)})),Object(v.jsx)(j.a,{to:"/admin",from:"/"}),Object(v.jsx)(j.a,{to:"/404"})]})})}),document.getElementById("root"))}},[[273,1,2]]]);
//# sourceMappingURL=main.c4f8067a.chunk.js.map